<!DOCTYPE html>
<html lang="en">

<link rel="stylesheet" type="text/css" href="../CSS/form.css">
<link rel="stylesheet" href="../CSS/mobile.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="https://kit.fontawesome.com/7dff18c79c.js" crossorigin="anonymous"></script>
<script src="../javaScript/form.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!--STEG ETT-->
<div id="stegEtt" style="display:none" >
    <h1>BLI MEDLEM</h1>
    <p>Det går snabbt och enkelt</p>
    <h2>Steg 1: Vem är du?</h2>

    <form id="formEtt" onsubmit="validateForm(event, 1)">
        <div id="info">
            <input type="text" name="förnamn" placeholder="Förnamn" class="first" required>
            <input type="text" name="efternamn" placeholder="Efternamn" class="first" required>
            <br>
            <input type="text" name="användarnamn" placeholder="Användarnamn" class="first" required>
            <input type="email" name="email" placeholder="Email" class="first" required>
             <br>
            <input type="password" id="lösenord1" name="lösenord" placeholder="Lösenord" class="first" required><button type="button" id="visa-lösenord"><span class="material-symbols-outlined symbol">visibility</span></button>
            <input type="password" id="lösenord2" name="bekräftaLösen" placeholder="Bekräfta lösenord" class="first" required>
            <br>
            <input type="text" name="stad" placeholder="Stad" class="first" required>
            <br>
        </div>
    <br>
        <label > FÖDELSEDATUM : <span></span></label>
        <SELECT required="" type="number" id ="år" name = "yyyy"  onchange="change_year(this)" class="first"></SELECT>
        <SELECT required="" type="number" id ="månad" name = "mm" onchange="change_month(this)" class="first"></SELECT>
        <SELECT required="" type="number" id = "dag" name = "dd" class="first" ></SELECT>
    <br>
    <div id="identifiera">
        <h2 id="textIdentifiera">Hur vill du identifiera dig?</h2>
        <input type="radio" id="man" name="kön" value="MAN" class="kön" class="first" required>
        <label for="man" class="textKön">Man</label>
        <input type="radio" id="kvinna" name="kön" value="KVINNA" class="kön" class="first">
        <label for="man" class="textKön">Kvinna</label>
        <input type="radio" id="anpassat" name="kön" value="ANPASSAT" class="kön" class="first">
        <label for="man" class="textKön">Anpassat</label>
        <br>
        <div id="pronomen" hidden>
            <SELECT name = "pronomen" class="first">
                <option selected>Hen: "Vill du träna med hen?"</option>
                <option>Hon: "Vill du träna med henne?"</option>
                <option>Han: "Vill du träna med honom?"</option>
                <option>Den/Det: "Vill du träna med den/det?"</option>
            </SELECT>
            <br>
        <input type="text" placeholder="Kön (Valfritt)" class="first">
        </div>
    </div>
    <button type="submit" class="nextStep button" >NÄSTA STEG</button>
    </form>
</div>



<!--STEG TVÅ-->
    <div id="stegTvå" >
        <h2>Steg 2: SPORT</h2>
        <button class="back button" onclick="nextStep(3)">Back</button>
        <form id="formTvå" onsubmit="validateCheckBoxes(event, 2)">
        <div id="sporter">
            <p>Vilka sporter är du intresserad av?</p>
            <p><small>Du kan välja hur många sporter du vill</small></p>
            <br>
            <fieldset id ="sportCheckboxes">
                <div class="grid-container">
                </div>
            </fieldset>
        </div>
        <div id="slidecontainer"></div>
        <br>
        <div>
            <p>Vilka vill du träna med?</p>
            <p><small>Det går givetvis bra att välja samtliga</small></p>
            <fieldset id="preferensCheckboxes">
            <input type="checkbox" id="valMän" class="checkbox">
            <label for="valMän">Män</label>
            <input type="checkbox" id="valKvinnor" class="checkbox">
            <label for="valKvinnor">Kvinnor</label>
            <input type="checkbox" id="valÖvrigt" class="checkbox">
            <label for="valÖvrigt">Övrigt</label>
            </fieldset>
        </div>
        <button type="submit"  class="nextStep button" >NÄSTA STEG</button>
        </form>
    </div>




<!--STEG TRE-->
<div id="stegTre" style="display:none">
    <h2>Steg 3: BILDER OCH BESKRIVNING</h2>
    <button class="back button" onclick="nextStep(4)">Back</button>
    <form id="formTre">
        <div id="continerBild">
            <div class="foto" id="ett"><button class="deleteButton" id="deleteBild1" onclick="removeBild(1, event, 'ett')" style="display: none"><span class="material-symbols-outlined symbol" style="color: white">delete</span></button><button type="button" onclick="startWebcam(1,'ett')" id="knappTillFoto1" class="fotoButton"><i class="fa fa-camera" style="font-size:36px"></i></button><label id="file-upload1" class="file-upload"><input  onchange="displayImage(1,'ett')" type="file" multiple="multiple" name="fileToUpload"  id="fileToUpload1">Välj fil</label></div>
            <div class="foto" id="två"><button class="deleteButton" id="deleteBild2" onclick="removeBild(2, event, 'två')" style="display: none"><span class="material-symbols-outlined symbol" style="color: white">delete</span></button><button type="button" onclick="startWebcam(2,'två')" id="knappTillFoto2" class="fotoButton"><i class="fa fa-camera" style="font-size:36px"></i></button><label id="file-upload2" class="file-upload"><input  onchange="displayImage(2,'två')" type="file" multiple="multiple" name="fileToUpload"  id="fileToUpload2">Välj fil</label></div>
            <div class="foto" id="tre"><button class="deleteButton" id="deleteBild3" onclick="removeBild(3, event, 'tre')" style="display: none"><span class="material-symbols-outlined symbol" style="color: white">delete</span></button><button type="button" onclick="startWebcam(3,'tre')" id="knappTillFoto3" class="fotoButton"><i class="fa fa-camera" style="font-size:36px"></i></button><label id="file-upload3" class="file-upload"><input  onchange="displayImage(3,'tre')" type="file" multiple="multiple" name="fileToUpload"  id="fileToUpload3">Välj fil</label></div>
            <div class="foto" id="fyra"><button class="deleteButton" id="deleteBild4" onclick="removeBild(4, event, 'fyra')" style="display: none"><span class="material-symbols-outlined symbol" style="color: white">delete</span></button><button type="button" onclick="startWebcam(4,'fyra')" id="knappTillFoto4" class="fotoButton"><i class="fa fa-camera" style="font-size:36px"></i></button><label id="file-upload4" class="file-upload"><input  onchange="displayImage(4,'fyra')" type="file" multiple="multiple" name="fileToUpload"  id="fileToUpload4">Välj fil</label></div>
            <div class="foto" id="fem"><button class="deleteButton" id="deleteBild5" onclick="removeBild(5, event, 'fem')" style="display: none"><span class="material-symbols-outlined symbol" style="color: white">delete</span></button><button type="button" onclick="startWebcam(5,'fem')" id="knappTillFoto5" class="fotoButton"><i class="fa fa-camera" style="font-size:36px"></i></button><label id="file-upload5" class="file-upload"><input  onchange="displayImage(5,'fem')" type="file" multiple="multiple" name="fileToUpload"  id="fileToUpload5">Välj fil</label></div>
            <div class="foto" id="sex"><button class="deleteButton" id="deleteBild6" onclick="removeBild(6, event, 'sex') " style="display: none"><span class="material-symbols-outlined symbol" style="color: white">delete</span></button><button type="button" onclick="startWebcam(6,'sex')" id="knappTillFoto6" class="fotoButton"><i class="fa fa-camera" style="font-size:36px"></i></button><label id="file-upload6" class="file-upload"><input  onchange="displayImage(6,'sex')" type="file" multiple="multiple" name="fileToUpload"  id="fileToUpload6">Välj fil</label></div>
        </div>
        <div id="webbContiner">
        <video id="webcam" style="display:none;"></video>
            <p id="countdown"></p>
            <button id="check"  onclick="displayImageFromKamera(event)" style="display:none;"><span class="material-symbols-outlined checkIcon" style="color: green">check_circle</span></button>
            <button id="taBild" onclick="takePicture(event)" style="display:none;"><span class="material-symbols-outlined" style="color: white">add_circle</span></button>
            <button id="taOmBild" style="display:none;"  onclick="retake(event)"><span class="material-symbols-outlined" style="color: white">sync</span></button>
            <button id="close" style="display:none;" onclick="retake(event, 'close')"><span class="material-symbols-outlined" style="color: red">cancel</span></button>
        </div>
        <br>
        <br>
        <br>
        <br>
        <h3>Här kan du skriva en beskrivning om dig själv</h3>
            <textarea id="myTextarea" maxlength="500" oninput="countChars(this)"></textarea>
        <div id="counter">0/500</div>

    <br>
        <br>
    <button type="submit" id="klar" class="button" onclick="hide()">KLAR</button>
    </form>
</div>
</body>
<script>
    function displayImageFromKamera(event){
        event.preventDefault();
        let buttons = document.querySelectorAll("button:not(#webbContiner button)");
        let inputs = document.querySelectorAll("input[type='file']");
        let texta = document.querySelectorAll("textarea");

        inputs.forEach(function(button) {
            button.disabled = false;
            button.classList.remove("disabled");
        });

        buttons.forEach(function(button) {
            button.disabled = false;
            button.classList.remove("disabled");
        });

        texta.forEach(function(button) {
            button.disabled = false;
            button.classList.remove("disabled");
        });

        let fileToUpload = "fileToUpload" + int;
        let knappTillFoto = "knappTillFoto" + int;
        let upload = "file-upload" + int;
        let deleteBild = "deleteBild" + int;
        let imagecontiner = document.getElementById(intLetter)
        let imgTag = document.createElement('img');

        imgTag.src = liveImg;
        imgTag.id = int;
        imgTag.style.width = '100%';
        imgTag.style.height = '100%';
        imgTag.style.borderRadius = '10%';
        imgTag.style.position = 'relative';
        imagecontiner.style.background = 'black';
        imagecontiner.appendChild(imgTag);

        document.getElementById(fileToUpload).style.visibility ="hidden";
        document.getElementById(knappTillFoto).style.visibility ="hidden";
        document.getElementById(upload).style.visibility ="hidden";
        document.getElementById(deleteBild).style.display = "block";

        let content = '<video id="webcam" style="display:none;"></video><p id="countdown"></p> <button id="check" style="display:none" onclick="displayImageFromKamera(event)"><span class="material-symbols-outlined checkIcon" style="color: green">check_circle</span></button><button id="taBild" onclick="takePicture(event)" style="display:none;"><span class="material-symbols-outlined" style="color: white">add_circle</span></button> <button id="taOmBild" style="display:none;" onclick="retake(event)"><span class="material-symbols-outlined" style="color: white">sync</span></button><button id="close" style="display:none;" onclick="retake(event, \'close\')"><span class="material-symbols-outlined" style="color: red">cancel</span></button>'
        $("#webbContiner").html(content);

        document.getElementById("webbContiner").style.visibility = "hidden";


    }
</script>
</html>

